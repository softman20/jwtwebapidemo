2018-04-25 14:00:52.005 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57472/api/users  
2018-04-25 14:00:53.971 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:00:54.045 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 14:00:54.081 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 14:00:55.112 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 14:00:55.249 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 2270.3219ms
2018-04-25 14:00:55.281 +02:00 [INF] Request finished in 3454.6091ms 200 application/json; charset=utf-8
2018-04-25 14:00:55.329 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57472/favicon.ico  
2018-04-25 14:00:55.719 +02:00 [INF] Request finished in 371.2816ms 404 
2018-04-25 14:01:07.353 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57472/login  
2018-04-25 14:01:07.503 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:01:07.585 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:01:22.294 +02:00 [INF] Executing RedirectResult, redirecting to /login-callback.
2018-04-25 14:01:22.297 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 14893.1095ms
2018-04-25 14:01:22.308 +02:00 [INF] Request finished in 14968.2458ms 302 
2018-04-25 14:01:22.315 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57472/login-callback  
2018-04-25 14:01:22.334 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:01:22.340 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:01:30.290 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 7953.2078ms
2018-04-25 14:01:30.641 +02:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at JWTWebApiDemo.Controllers.AuthenticationController.<LoginCallback>d__6.MoveNext() in C:\Users\h7707132\source\repos\JWTWebApiDemo\JWTWebApiDemo\Controllers\AuthenticationController.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-25 14:01:31.189 +02:00 [INF] Request finished in 8863.958ms 500 text/html; charset=utf-8
2018-04-25 14:01:46.566 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57472/login  
2018-04-25 14:01:46.573 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:01:46.576 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:01:55.180 +02:00 [INF] Executing ChallengeResult with authentication schemes (["SaintGobain"]).
2018-04-25 14:01:55.206 +02:00 [INF] AuthenticationScheme: SaintGobain was challenged.
2018-04-25 14:01:55.210 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 8638.6797ms
2018-04-25 14:01:55.215 +02:00 [INF] Request finished in 8645.8009ms 302 
2018-04-25 14:04:30.393 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/users  
2018-04-25 14:04:31.630 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:04:31.655 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 14:04:31.697 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 14:04:32.378 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 14:04:32.589 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 1579.8059ms
2018-04-25 14:04:32.601 +02:00 [INF] Request finished in 2279.2141ms 200 application/json; charset=utf-8
2018-04-25 14:04:32.649 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/favicon.ico  
2018-04-25 14:04:32.959 +02:00 [INF] Request finished in 311.0779ms 404 
2018-04-25 14:04:36.764 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login  
2018-04-25 14:04:36.862 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:04:36.898 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:05:03.880 +02:00 [INF] Executing RedirectResult, redirecting to /login-callback.
2018-04-25 14:05:03.884 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 27064.8646ms
2018-04-25 14:05:03.889 +02:00 [INF] Request finished in 27125.1295ms 302 
2018-04-25 14:05:03.903 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback  
2018-04-25 14:05:03.931 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:05:03.938 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:05:10.918 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 6992.0209ms
2018-04-25 14:05:11.253 +02:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at JWTWebApiDemo.Controllers.AuthenticationController.<LoginCallback>d__6.MoveNext() in C:\Users\h7707132\source\repos\JWTWebApiDemo\JWTWebApiDemo\Controllers\AuthenticationController.cs:line 50
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-25 14:05:11.851 +02:00 [INF] Request finished in 7938.7882ms 500 text/html; charset=utf-8
2018-04-25 14:05:17.558 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login  
2018-04-25 14:05:20.661 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:05:20.664 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:05:27.359 +02:00 [INF] Executing ChallengeResult with authentication schemes (["SaintGobain"]).
2018-04-25 14:05:27.382 +02:00 [INF] AuthenticationScheme: SaintGobain was challenged.
2018-04-25 14:05:27.388 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 6726.604ms
2018-04-25 14:05:27.427 +02:00 [INF] Request finished in 9832.0372ms 302 
2018-04-25 14:05:45.110 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/signin-saintgobain?scope=mail%20sn%20stGoSGI%20givenName&iss=https%3A%2F%2Fcloudsso.saint-gobain.com%3A443%2Fopenam%2Foauth2&state=CfDJ8PFD-WCWoAtKrqox2VO51T2hxmDo43DgMbV26C2QKthijQmrFSLStc1ru0OPl_MKPK3L2S-8WeL0m2EWs-5mIYtWdU4lSIzWNZjStzmbsPTSJmEl1JJuBkoIyyAktCiOvzu6Bfzi2PZvi-XmrShkFf74JkIyiTOx6CwQwnRizfWKCL9BJM0kB0mvuYRrMizhYoGg4Oni0UZiaCxREnVCq6OrkMdHWM0XENAOdCJrLwef-X5jWgwUaUgeHRqiz66YYQ&client_id=POC_Tracker_Local&code=6055cb9e-7213-42d1-a0ea-2f699103cb09  
2018-04-25 14:05:45.427 +02:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-04-25 14:05:45.440 +02:00 [INF] Request finished in 320.4543ms 302 
2018-04-25 14:05:45.450 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback  
2018-04-25 14:05:45.458 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:05:45.466 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:05:48.561 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 14:05:56.521 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 11066.4704ms
2018-04-25 14:05:56.733 +02:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at JWTWebApiDemo.Controllers.AuthenticationController.<LoginCallback>d__6.MoveNext() in C:\Users\h7707132\source\repos\JWTWebApiDemo\JWTWebApiDemo\Controllers\AuthenticationController.cs:line 57
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-25 14:05:57.174 +02:00 [INF] Request finished in 11703.2613ms 500 text/html; charset=utf-8
2018-04-25 14:06:41.636 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback  
2018-04-25 14:06:44.713 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback  
2018-04-25 14:06:44.719 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:06:44.748 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:06:44.750 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:06:44.754 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:06:49.279 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 14:06:49.280 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 14:06:50.781 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 6058.6029ms
2018-04-25 14:06:50.787 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 6087.5571ms
2018-04-25 14:06:50.942 +02:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at JWTWebApiDemo.Controllers.AuthenticationController.<LoginCallback>d__6.MoveNext() in C:\Users\h7707132\source\repos\JWTWebApiDemo\JWTWebApiDemo\Controllers\AuthenticationController.cs:line 57
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-25 14:06:50.946 +02:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at JWTWebApiDemo.Controllers.AuthenticationController.<LoginCallback>d__6.MoveNext() in C:\Users\h7707132\source\repos\JWTWebApiDemo\JWTWebApiDemo\Controllers\AuthenticationController.cs:line 57
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-25 14:06:51.255 +02:00 [INF] Request finished in 6533.1972ms 500 text/html; charset=utf-8
2018-04-25 14:06:51.314 +02:00 [INF] Request finished in 9678.0859ms 500 text/html; charset=utf-8
2018-04-25 14:06:54.964 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login  
2018-04-25 14:06:54.969 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:06:54.972 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:06:57.203 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 14:06:57.207 +02:00 [INF] Executing RedirectResult, redirecting to /login-callback.
2018-04-25 14:06:57.209 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 2241.8345ms
2018-04-25 14:06:57.214 +02:00 [INF] Request finished in 2248.1484ms 302 
2018-04-25 14:06:57.224 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback  
2018-04-25 14:06:57.229 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:06:57.232 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:06:58.542 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 14:07:08.540 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 11310.684000000001ms
2018-04-25 14:07:08.707 +02:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at JWTWebApiDemo.Controllers.AuthenticationController.<LoginCallback>d__6.MoveNext() in C:\Users\h7707132\source\repos\JWTWebApiDemo\JWTWebApiDemo\Controllers\AuthenticationController.cs:line 57
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-25 14:07:08.982 +02:00 [INF] Request finished in 11748.5683ms 500 text/html; charset=utf-8
2018-04-25 14:16:23.890 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login  
2018-04-25 14:16:23.906 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:16:23.911 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:16:36.832 +02:00 [INF] Identity.External was not authenticated. Failure message: Ticket expired
2018-04-25 14:31:15.366 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/users  
2018-04-25 14:31:16.127 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:31:16.155 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 14:31:16.175 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 14:31:16.526 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 14:31:16.648 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 865.576ms
2018-04-25 14:31:16.696 +02:00 [INF] Request finished in 1338.6409ms 200 application/json; charset=utf-8
2018-04-25 14:31:16.719 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/favicon.ico  
2018-04-25 14:31:16.893 +02:00 [INF] Request finished in 174.4656ms 404 
2018-04-25 14:31:19.437 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login  
2018-04-25 14:31:19.517 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:31:19.545 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:31:30.403 +02:00 [INF] Executing ChallengeResult with authentication schemes (["SaintGobain"]).
2018-04-25 14:31:30.418 +02:00 [INF] AuthenticationScheme: SaintGobain was challenged.
2018-04-25 14:31:30.424 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 10938.8907ms
2018-04-25 14:31:30.434 +02:00 [INF] Request finished in 10989.307ms 302 
2018-04-25 14:31:35.545 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/signin-saintgobain?scope=mail%20sn%20stGoSGI%20givenName&iss=https%3A%2F%2Fcloudsso.saint-gobain.com%3A443%2Fopenam%2Foauth2&state=CfDJ8PFD-WCWoAtKrqox2VO51T0TWJBj84f0FZNvVZw2JBq-ksLbfEYvLGIhIZIf1O-Le_xp-qwc166uNQsxkDiD0nx5ztxwSs23POxd99_zr-rCGy1le4sxhsY87mg3_JFP7ldOjbGYs8Q6FTRkYtOH25VTdo5Csy2M3eEf-NiBng7zIO3GbwxDqgof9FIBeRUvlrahbvb6UGh2jwN2QEpcMTsB3Rov1pSAzx40PlLsmvezG5LeU_h1CKRJGykpGPEZaw&client_id=POC_Tracker_Local&code=1b1e4fcc-8c4d-4335-a551-69600285b515  
2018-04-25 14:31:35.776 +02:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-04-25 14:31:35.780 +02:00 [INF] Request finished in 234.4491ms 302 
2018-04-25 14:31:35.789 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback  
2018-04-25 14:31:35.798 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:31:35.801 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:31:37.744 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 14:31:40.920 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 5122.6229ms
2018-04-25 14:31:41.198 +02:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at JWTWebApiDemo.Controllers.AuthenticationController.<LoginCallback>d__6.MoveNext() in C:\Users\h7707132\source\repos\JWTWebApiDemo\JWTWebApiDemo\Controllers\AuthenticationController.cs:line 60
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-25 14:31:41.611 +02:00 [INF] Request finished in 5814.0085ms 500 text/html; charset=utf-8
2018-04-25 14:35:56.093 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:36:07.938 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:37:29.324 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/users  
2018-04-25 14:37:30.041 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:37:30.072 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 14:37:30.099 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 14:37:30.452 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 14:37:30.543 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 834.893ms
2018-04-25 14:37:30.567 +02:00 [INF] Request finished in 1292.6919ms 200 application/json; charset=utf-8
2018-04-25 14:37:30.613 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/favicon.ico  
2018-04-25 14:37:30.839 +02:00 [INF] Request finished in 227.5872ms 404 
2018-04-25 14:37:36.749 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login  
2018-04-25 14:37:36.823 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:37:36.850 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:37:42.461 +02:00 [INF] Executing ChallengeResult with authentication schemes (["SaintGobain"]).
2018-04-25 14:37:42.474 +02:00 [INF] AuthenticationScheme: SaintGobain was challenged.
2018-04-25 14:37:42.476 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 5686.1069000000007ms
2018-04-25 14:37:42.485 +02:00 [INF] Request finished in 5730.606ms 302 
2018-04-25 14:37:47.575 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/signin-saintgobain?scope=mail%20sn%20stGoSGI%20givenName&iss=https%3A%2F%2Fcloudsso.saint-gobain.com%3A443%2Fopenam%2Foauth2&state=CfDJ8PFD-WCWoAtKrqox2VO51T004oaT3Act6TNbWZrwzEIgtWf_v-i2pJgyBMRciNNaccUO-47__D1sduoN5NlHBoWOazox_tmwZpgYixGjYgg9ag6-40aMiInoPpgph8mqmc4ZEVYEDJ7BX8RHaoKKSybmzJC61qbylgr0Gnx_f99-AgUmy3PC71DoRt09OpjXzZjXxp0VSvsGqRCy5Fh0F6Ml9m4HhqvoQvut4a-bHlb8Nr8icYqilUUjRvT7uQE-4Q&client_id=POC_Tracker_Local&code=340b286d-a8ef-450e-a6c5-230e5d2ec152  
2018-04-25 14:37:47.803 +02:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-04-25 14:37:47.811 +02:00 [INF] Request finished in 231.997ms 302 
2018-04-25 14:37:47.818 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback  
2018-04-25 14:37:47.831 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:37:47.834 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:37:51.785 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 14:38:15.467 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 27636.257100000003ms
2018-04-25 14:38:15.726 +02:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at JWTWebApiDemo.Controllers.AuthenticationController.<LoginCallback>d__6.MoveNext() in C:\Users\h7707132\source\repos\JWTWebApiDemo\JWTWebApiDemo\Controllers\AuthenticationController.cs:line 60
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-25 14:38:16.160 +02:00 [INF] Request finished in 28328.7373ms 500 text/html; charset=utf-8
2018-04-25 14:46:47.282 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/users  
2018-04-25 14:46:48.454 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:46:48.504 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 14:46:48.594 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 14:46:49.368 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 14:46:49.510 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 1792.7946000000002ms
2018-04-25 14:46:49.538 +02:00 [INF] Request finished in 2509.8475ms 200 application/json; charset=utf-8
2018-04-25 14:46:49.612 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/favicon.ico  
2018-04-25 14:46:49.880 +02:00 [INF] Request finished in 264.3317ms 404 
2018-04-25 14:46:56.643 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login  
2018-04-25 14:46:56.745 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:46:56.780 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:46:56.796 +02:00 [INF] Executing ChallengeResult with authentication schemes (["SaintGobain"]).
2018-04-25 14:46:56.807 +02:00 [INF] AuthenticationScheme: SaintGobain was challenged.
2018-04-25 14:46:56.813 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 121.57220000000001ms
2018-04-25 14:46:56.830 +02:00 [INF] Request finished in 174.6466ms 302 
2018-04-25 14:47:02.599 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/signin-saintgobain?scope=mail%20sn%20stGoSGI%20givenName&iss=https%3A%2F%2Fcloudsso.saint-gobain.com%3A443%2Fopenam%2Foauth2&state=CfDJ8PFD-WCWoAtKrqox2VO51T2VrfulaeJlS-OWpqY3BjqsOJ0GjUYz5nvVZSm900iZJKsRQQ5UVSaG62AWZ6NKzJnAENvJjUBM-Wdpfw3rf65ftS0CeR86QW374N7jB29oR2l0FHwd3qQdyM7OcjbEo5pXxx_t-X0HzGMxcVZjI_S-x7sJJ8K6bhp2k-SUc7lHuzqAOVDDAK84FGavKM7LkwoDzZsVpADbUYp3ACj3FCq6vYW5j1W9GBPd4m-pDUmYNw&client_id=POC_Tracker_Local&code=6ed1c9ff-f338-47bc-902e-48fc9c453cfd  
2018-04-25 14:47:02.880 +02:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-04-25 14:47:02.891 +02:00 [INF] Request finished in 285.7942ms 302 
2018-04-25 14:47:02.898 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback  
2018-04-25 14:47:02.910 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:47:02.913 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:47:06.229 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 14:47:11.871 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 8960.4677000000011ms
2018-04-25 14:47:12.126 +02:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at JWTWebApiDemo.Controllers.AuthenticationController.<LoginCallback>d__6.MoveNext() in C:\Users\h7707132\source\repos\JWTWebApiDemo\JWTWebApiDemo\Controllers\AuthenticationController.cs:line 60
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-25 14:47:12.579 +02:00 [INF] Request finished in 9681.7073ms 500 text/html; charset=utf-8
2018-04-25 14:59:44.001 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login  
2018-04-25 14:59:44.016 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:59:44.020 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:59:44.026 +02:00 [INF] Identity.External was not authenticated. Failure message: Ticket expired
2018-04-25 14:59:44.031 +02:00 [INF] Executing ChallengeResult with authentication schemes (["SaintGobain"]).
2018-04-25 14:59:44.034 +02:00 [INF] AuthenticationScheme: SaintGobain was challenged.
2018-04-25 14:59:44.037 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 27.940800000000003ms
2018-04-25 14:59:44.041 +02:00 [INF] Request finished in 39.0473ms 302 
2018-04-25 14:59:46.800 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/signin-saintgobain?scope=mail%20sn%20stGoSGI%20givenName&iss=https%3A%2F%2Fcloudsso.saint-gobain.com%3A443%2Fopenam%2Foauth2&state=CfDJ8PFD-WCWoAtKrqox2VO51T0F81g2TI1YuAiar0mrSUPhm459tvRAE9aBvdG5OZZvtxcIph7VIPfX1K1_qfyt1FqgZNI9DWDwzKd_X-QryCMBuPm3hVRFNV-GZCe31auMaEEjNiizEqvQzPwmS0xxecMrs8x1n4uUPrLHVSOWlGTPIqylZWaomGP6hatr18kDRH3YwXesGHDXEbApUNVosZHF-VJ_iahfk_1ZJ1Pwsxf5ZzPZh9oa5E98OUHoDqxmrw&client_id=POC_Tracker_Local&code=d4b8b147-cc5f-4768-9771-4c1bfe4d835f  
2018-04-25 14:59:47.020 +02:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-04-25 14:59:47.023 +02:00 [INF] Request finished in 224.1738ms 302 
2018-04-25 14:59:47.031 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback  
2018-04-25 14:59:47.036 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 14:59:47.039 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 14:59:51.249 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 15:01:44.186 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/users  
2018-04-25 15:01:45.165 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:01:45.196 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 15:01:45.224 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 15:01:45.608 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 15:01:45.705 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 954.4013ms
2018-04-25 15:01:45.720 +02:00 [INF] Request finished in 1626.0643ms 200 application/json; charset=utf-8
2018-04-25 15:01:45.784 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/favicon.ico  
2018-04-25 15:01:45.965 +02:00 [INF] Request finished in 181.7075ms 404 
2018-04-25 15:01:49.943 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login  
2018-04-25 15:01:50.047 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:01:50.072 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 15:01:50.084 +02:00 [INF] Executing ChallengeResult with authentication schemes (["SaintGobain"]).
2018-04-25 15:01:50.096 +02:00 [INF] AuthenticationScheme: SaintGobain was challenged.
2018-04-25 15:01:50.098 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 116.5716ms
2018-04-25 15:01:50.101 +02:00 [INF] Request finished in 160.0136ms 302 
2018-04-25 15:01:54.562 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/signin-saintgobain?scope=mail%20sn%20stGoSGI%20givenName&iss=https%3A%2F%2Fcloudsso.saint-gobain.com%3A443%2Fopenam%2Foauth2&state=CfDJ8PFD-WCWoAtKrqox2VO51T3b_6IAlL6R4-8MpvU7SB_EpANpteroMWJdV5l3ye6gti2ClNU7KfLXGHTshPc5U9L2iHF5FH41DOja5hnaR14K-MQ7rgJYE0qCPW3q7SbVyred9gRGpED2YPWkDhiCNGjnbXR1owrLI-rhod5Zs76-3kvpvFQOQrwSgWVOcQmz6CsDnNE_k7t7kLoric9wD3ySw2HZiEF_imfO691zJ7fKyrvGYJiuG9nhNMK6Bv5UKA&client_id=POC_Tracker_Local&code=e1d5a8b9-0340-4086-b452-587b7ea574ab  
2018-04-25 15:01:54.872 +02:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-04-25 15:01:54.875 +02:00 [INF] Request finished in 318.4682ms 302 
2018-04-25 15:01:54.886 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback  
2018-04-25 15:01:54.898 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:01:54.902 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 15:01:59.251 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 15:02:00.484 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [userLogin].[LoginProvider], [userLogin].[ProviderKey], [userLogin].[ProviderDisplayName], [userLogin].[UserId]
FROM [AspNetUserLogins] AS [userLogin]
WHERE ([userLogin].[LoginProvider] = @__loginProvider_0) AND ([userLogin].[ProviderKey] = @__providerKey_1)
2018-04-25 15:02:17.955 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[SgId], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-25 15:02:18.166 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 450), @p1='?', @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?', @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?', @p8='?', @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 4000), @p15='?' (Size = 20), @p16='?', @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [SgId], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2018-04-25 15:02:19.535 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [userLogin].[LoginProvider], [userLogin].[ProviderKey], [userLogin].[ProviderDisplayName], [userLogin].[UserId]
FROM [AspNetUserLogins] AS [userLogin]
WHERE ([userLogin].[LoginProvider] = @__loginProvider_0) AND ([userLogin].[ProviderKey] = @__providerKey_1)
2018-04-25 15:02:19.579 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[SgId], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-25 15:02:19.628 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p21='?' (Size = 450), @p4='?', @p5='?' (Size = 4000), @p22='?' (Size = 4000), @p6='?' (Size = 256), @p7='?', @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?', @p11='?', @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?', @p17='?' (Size = 4000), @p18='?' (Size = 20), @p19='?', @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserLogins] ([LoginProvider], [ProviderKey], [ProviderDisplayName], [UserId])
VALUES (@p0, @p1, @p2, @p3);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [SgId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
SELECT @@ROWCOUNT;
2018-04-25 15:02:23.827 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 28929.555800000002ms
2018-04-25 15:02:24.058 +02:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at JWTWebApiDemo.Controllers.AuthenticationController.<LoginCallback>d__6.MoveNext() in C:\Users\h7707132\source\repos\JWTWebApiDemo\JWTWebApiDemo\Controllers\AuthenticationController.cs:line 89
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-25 15:02:24.588 +02:00 [INF] Request finished in 29688.8814ms 500 text/html; charset=utf-8
2018-04-25 15:02:58.743 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login  
2018-04-25 15:02:58.753 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:02:58.757 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 15:02:58.765 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 15:02:58.771 +02:00 [INF] Executing RedirectResult, redirecting to /login-callback.
2018-04-25 15:02:58.773 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 26.5513ms
2018-04-25 15:02:58.776 +02:00 [INF] Request finished in 34.2046ms 302 
2018-04-25 15:02:58.787 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback  
2018-04-25 15:02:58.790 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:02:58.793 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 15:03:02.807 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 15:03:02.815 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [userLogin].[LoginProvider], [userLogin].[ProviderKey], [userLogin].[ProviderDisplayName], [userLogin].[UserId]
FROM [AspNetUserLogins] AS [userLogin]
WHERE ([userLogin].[LoginProvider] = @__loginProvider_0) AND ([userLogin].[ProviderKey] = @__providerKey_1)
2018-04-25 15:03:02.857 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[SgId], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__userId_0
2018-04-25 15:03:32.576 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/users  
2018-04-25 15:03:33.208 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:03:33.226 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 15:03:33.266 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 15:03:33.642 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 15:03:33.808 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 897.9665ms
2018-04-25 15:03:33.821 +02:00 [INF] Request finished in 1277.7143ms 200 application/json; charset=utf-8
2018-04-25 15:03:33.876 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/favicon.ico  
2018-04-25 15:03:34.063 +02:00 [INF] Request finished in 187.394ms 404 
2018-04-25 15:03:39.032 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login  
2018-04-25 15:03:39.142 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:03:39.172 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 15:03:39.192 +02:00 [INF] Executing ChallengeResult with authentication schemes (["SaintGobain"]).
2018-04-25 15:03:39.200 +02:00 [INF] AuthenticationScheme: SaintGobain was challenged.
2018-04-25 15:03:39.203 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 118.403ms
2018-04-25 15:03:39.208 +02:00 [INF] Request finished in 176.2786ms 302 
2018-04-25 15:03:43.904 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/signin-saintgobain?scope=mail%20sn%20stGoSGI%20givenName&iss=https%3A%2F%2Fcloudsso.saint-gobain.com%3A443%2Fopenam%2Foauth2&state=CfDJ8PFD-WCWoAtKrqox2VO51T0KnUT0tVOLGHe7Ts5oUsaxu8b7ibtHnoqGHp1Q-lEfaKAqfk85h3ymvj4nImEUEVr_0Yr8Ra1N0lu8AOl_l1s83UGEzFUy8LgR1dq0MDBNm2227VFmkRR-R0tJ_xe4KLwZps1oIfvziQsQlbu_OJTsrJIF9R2ZTc3qDe_q_lW_KpcTmHV9QiLhAtN2-8kZoUFw7R-_WLIKyH97OiAAWAM6xoViQ6Ka4-EA5vqTZAx5DQ&client_id=POC_Tracker_Local&code=0a970df2-daee-463f-a6f4-464acdb07f27  
2018-04-25 15:03:44.164 +02:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-04-25 15:03:44.173 +02:00 [INF] Request finished in 264.1725ms 302 
2018-04-25 15:03:44.184 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback  
2018-04-25 15:03:44.197 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:03:44.201 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 15:03:49.332 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 15:03:49.462 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [userLogin].[LoginProvider], [userLogin].[ProviderKey], [userLogin].[ProviderDisplayName], [userLogin].[UserId]
FROM [AspNetUserLogins] AS [userLogin]
WHERE ([userLogin].[LoginProvider] = @__loginProvider_0) AND ([userLogin].[ProviderKey] = @__providerKey_1)
2018-04-25 15:03:49.507 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[SgId], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__userId_0
2018-04-25 15:04:00.935 +02:00 [INF] Executing RedirectResult, redirecting to ?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0NjY1MDMwLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.k-2bI6spVd0AhPalLJy1MJtQT46z3l-t1I_O77Fn4YXbVVZxXKGNwLBDfwAr_-L0hcHm-_I1qlv7ww_Jxz-CltRjgJ0o1OwZVY-tflJbtz1sDVvV_zYH1uGSzgFpycRs46YgIuBihcGzxSwzUbRMi4QQcWdTDvGORoUCAW3lxBYG0SRaAf7MlfIBRzwg_XquO9iMNtSCWjQusT0dRsd-PfpEQJGD_dD6A-D09nexgB6mcPss7SwJHx6pB7Sy3DT6iMgA1itom2hy2SSsDJOaOQ4h42E6nL_1_Mzg9Tblmk4COXAXRuGxx22fgEIzp-gU-PfW3RDY-hTy8hMP4s2xRQ.
2018-04-25 15:04:00.938 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 16742.1724ms
2018-04-25 15:04:00.941 +02:00 [INF] Request finished in 16756.4702ms 302 
2018-04-25 15:04:00.957 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0NjY1MDMwLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.k-2bI6spVd0AhPalLJy1MJtQT46z3l-t1I_O77Fn4YXbVVZxXKGNwLBDfwAr_-L0hcHm-_I1qlv7ww_Jxz-CltRjgJ0o1OwZVY-tflJbtz1sDVvV_zYH1uGSzgFpycRs46YgIuBihcGzxSwzUbRMi4QQcWdTDvGORoUCAW3lxBYG0SRaAf7MlfIBRzwg_XquO9iMNtSCWjQusT0dRsd-PfpEQJGD_dD6A-D09nexgB6mcPss7SwJHx6pB7Sy3DT6iMgA1itom2hy2SSsDJOaOQ4h42E6nL_1_Mzg9Tblmk4COXAXRuGxx22fgEIzp-gU-PfW3RDY-hTy8hMP4s2xRQ  
2018-04-25 15:04:00.968 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:04:00.975 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 15:04:04.719 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 15:04:09.828 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [userLogin].[LoginProvider], [userLogin].[ProviderKey], [userLogin].[ProviderDisplayName], [userLogin].[UserId]
FROM [AspNetUserLogins] AS [userLogin]
WHERE ([userLogin].[LoginProvider] = @__loginProvider_0) AND ([userLogin].[ProviderKey] = @__providerKey_1)
2018-04-25 15:04:09.837 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[SgId], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__userId_0
2018-04-25 15:04:15.020 +02:00 [INF] Executing RedirectResult, redirecting to ?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0NjY1MDUyLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.FCNW0oKB9v_1qNgFQVI8WoHhRN5uak8rBzlGfRNUZNJQLr00Q0NaIb-OdhG2JwCdpVonl_s7kBDMx9ZxVcy2jfJ98ZdqdoIIcmdT_c1JuRBkMT-5bU7zAmSpxbzOoifoQdgFOVEJGWPQP4QBWuY4cd8d-mkZ1R-H86me_3mFHRVgiq2pb9tfu2X4C8Io3UmDpreM1wM3CCa4o7vmRfcdx6ibGaewEyRzwISSLX-VLq5YTLxsBQ_0cosDAX2TEBpSxq3SbLUilUgupWaLWvMdocGlk-bSMV83QQzETw-DvHTW8KN2aZz2uFlVFefJIhtwgALlfmRkpRKxqUsKJpO-Ig.
2018-04-25 15:04:15.024 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 14061.9871ms
2018-04-25 15:04:15.033 +02:00 [INF] Request finished in 14069.3389ms 302 
2018-04-25 15:04:15.040 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0NjY1MDUyLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.FCNW0oKB9v_1qNgFQVI8WoHhRN5uak8rBzlGfRNUZNJQLr00Q0NaIb-OdhG2JwCdpVonl_s7kBDMx9ZxVcy2jfJ98ZdqdoIIcmdT_c1JuRBkMT-5bU7zAmSpxbzOoifoQdgFOVEJGWPQP4QBWuY4cd8d-mkZ1R-H86me_3mFHRVgiq2pb9tfu2X4C8Io3UmDpreM1wM3CCa4o7vmRfcdx6ibGaewEyRzwISSLX-VLq5YTLxsBQ_0cosDAX2TEBpSxq3SbLUilUgupWaLWvMdocGlk-bSMV83QQzETw-DvHTW8KN2aZz2uFlVFefJIhtwgALlfmRkpRKxqUsKJpO-Ig  
2018-04-25 15:04:15.043 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:04:15.048 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 15:04:16.167 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 15:04:16.175 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [userLogin].[LoginProvider], [userLogin].[ProviderKey], [userLogin].[ProviderDisplayName], [userLogin].[UserId]
FROM [AspNetUserLogins] AS [userLogin]
WHERE ([userLogin].[LoginProvider] = @__loginProvider_0) AND ([userLogin].[ProviderKey] = @__providerKey_1)
2018-04-25 15:04:16.182 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[SgId], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__userId_0
2018-04-25 15:04:17.011 +02:00 [INF] Executing RedirectResult, redirecting to ?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0NjY1MDU3LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.lK5WB8sGyqBp2uhfEbZFKimP2WQTm2YtKTHmeY8HQslX1pvXgi3hNvuyR-7WNy9UBx73igdNC_Hu4rpD3zvXHwditxiCQaMIrok21FrPtDGbUnTXoIHDqKN7mkRzpqz3issLCVceKmtUXGUwlFBKulvvW5RDmbJq_qwnMnJyiPmevk1P75E2dy5SSkeJ3QxxZxyzgAgDrFl2uoSnRm9PH2u9ZYHMk7iu1RaZCspJmlN2H76w66dDEqYzSkBGcHJbpnFW-ICdHxwTAAB60gmXAl92yKdL68-wl8JHl_kbp_3sUSukwcERdgMvbGMDmEIG0TdNcr9Uc0jCq0kC7vVDcg.
2018-04-25 15:04:17.015 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 1971.4068000000002ms
2018-04-25 15:04:17.019 +02:00 [INF] Request finished in 1978.224ms 302 
2018-04-25 15:04:17.036 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0NjY1MDU3LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.lK5WB8sGyqBp2uhfEbZFKimP2WQTm2YtKTHmeY8HQslX1pvXgi3hNvuyR-7WNy9UBx73igdNC_Hu4rpD3zvXHwditxiCQaMIrok21FrPtDGbUnTXoIHDqKN7mkRzpqz3issLCVceKmtUXGUwlFBKulvvW5RDmbJq_qwnMnJyiPmevk1P75E2dy5SSkeJ3QxxZxyzgAgDrFl2uoSnRm9PH2u9ZYHMk7iu1RaZCspJmlN2H76w66dDEqYzSkBGcHJbpnFW-ICdHxwTAAB60gmXAl92yKdL68-wl8JHl_kbp_3sUSukwcERdgMvbGMDmEIG0TdNcr9Uc0jCq0kC7vVDcg  
2018-04-25 15:04:17.040 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:04:17.044 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments ([""]) - ModelState is "Valid"
2018-04-25 15:47:02.654 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/users  
2018-04-25 15:47:03.535 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:47:03.556 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 15:47:03.590 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 15:47:04.038 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 15:47:04.162 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 1108.9507ms
2018-04-25 15:47:04.193 +02:00 [INF] Request finished in 1580.0591ms 200 application/json; charset=utf-8
2018-04-25 15:47:04.236 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/favicon.ico  
2018-04-25 15:47:04.441 +02:00 [INF] Request finished in 208.8594ms 404 
2018-04-25 15:50:28.734 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login?returnUrl=http://localhost:4200  
2018-04-25 15:50:28.926 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:50:28.976 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 15:50:28.993 +02:00 [INF] Executing ChallengeResult with authentication schemes (["SaintGobain"]).
2018-04-25 15:50:29.010 +02:00 [INF] AuthenticationScheme: SaintGobain was challenged.
2018-04-25 15:50:29.017 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 158.88660000000002ms
2018-04-25 15:50:29.031 +02:00 [INF] Request finished in 298.3218ms 302 
2018-04-25 15:50:34.805 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/signin-saintgobain?scope=mail%20sn%20stGoSGI%20givenName&iss=https%3A%2F%2Fcloudsso.saint-gobain.com%3A443%2Fopenam%2Foauth2&state=CfDJ8PFD-WCWoAtKrqox2VO51T36OD5gag81woVmF52Qkns25HPRq-3oYmOcLAIW0ukFNxQtSF8mIfpyLxa9hLyQ7a9mzRHKrmxr5ppI8AQP0P1NvQgsWLeDETzfxPfzznKyM8Uxr9zPPrR4q3kCyvzPaNzqwFCSyOlLa-rGWJ4ZY1LoKLvnc-dAFHBcE_PgUXTz7zNPA6K_kNjQEiu34QaetJg7vi9ZymIlD-WDYrSVuFRuy9f0n8sKQWTPpIptkoy4exEqY5qjYWXvfuW7Xz7SiOwR-eq1h7JNf4SwHWUKUECEcuU1UJDVwtpsfDDIYmsyiA&client_id=POC_Tracker_Local&code=3665b9da-771e-4c43-aa49-049e1d3acf81  
2018-04-25 15:50:35.101 +02:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-04-25 15:50:35.104 +02:00 [INF] Request finished in 303.3273ms 302 
2018-04-25 15:50:35.118 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback?ReturnUrl=http%3A%2F%2Flocalhost%3A4200  
2018-04-25 15:50:35.129 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:50:35.132 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 15:50:37.415 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 15:50:37.564 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [userLogin].[LoginProvider], [userLogin].[ProviderKey], [userLogin].[ProviderDisplayName], [userLogin].[UserId]
FROM [AspNetUserLogins] AS [userLogin]
WHERE ([userLogin].[LoginProvider] = @__loginProvider_0) AND ([userLogin].[ProviderKey] = @__providerKey_1)
2018-04-25 15:50:37.615 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[SgId], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__userId_0
2018-04-25 15:50:38.485 +02:00 [INF] Executing RedirectResult, redirecting to ?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0NjY3ODM4LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.Bauk8ksnByysgZKjFpTwYLV6vgsqAzGh0pEAIfXsgyKOy-xlpqlhLw5cxfDdKDToimTXPZHSR1qnP_-5z723xi6zMNe_AA_WbCTIdu-_sixAJ8MQKs5vDW-knLQaTdBTfWuZX9j_7svta07Z_HMcy4aLts1nqMdBJRT_Ioe1vEQyM5_CUZQ_Z8jPBuZKl_VPRcuRIuThLR_ORq-uiv2_au-lKK1TSRGY32TgrK_4qndMp-mJ_KAajwalK_RvJToJX3UyVKoqVmrkA-mPk9ydZ7kBdnhcFhTFqIdwWeYBMrcnG7Idf3N0uVlyzhGXEa3_qDy4OGgbf_U2AKn1L0XeUg&returnurl=http%3A%2F%2Flocalhost%3A4200.
2018-04-25 15:50:38.487 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 3359.9738ms
2018-04-25 15:50:38.490 +02:00 [INF] Request finished in 3373.4708ms 302 
2018-04-25 15:50:38.506 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0NjY3ODM4LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.Bauk8ksnByysgZKjFpTwYLV6vgsqAzGh0pEAIfXsgyKOy-xlpqlhLw5cxfDdKDToimTXPZHSR1qnP_-5z723xi6zMNe_AA_WbCTIdu-_sixAJ8MQKs5vDW-knLQaTdBTfWuZX9j_7svta07Z_HMcy4aLts1nqMdBJRT_Ioe1vEQyM5_CUZQ_Z8jPBuZKl_VPRcuRIuThLR_ORq-uiv2_au-lKK1TSRGY32TgrK_4qndMp-mJ_KAajwalK_RvJToJX3UyVKoqVmrkA-mPk9ydZ7kBdnhcFhTFqIdwWeYBMrcnG7Idf3N0uVlyzhGXEa3_qDy4OGgbf_U2AKn1L0XeUg&returnurl=http%3A%2F%2Flocalhost%3A4200  
2018-04-25 15:50:38.510 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:50:38.512 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 15:50:40.050 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 15:50:40.063 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [userLogin].[LoginProvider], [userLogin].[ProviderKey], [userLogin].[ProviderDisplayName], [userLogin].[UserId]
FROM [AspNetUserLogins] AS [userLogin]
WHERE ([userLogin].[LoginProvider] = @__loginProvider_0) AND ([userLogin].[ProviderKey] = @__providerKey_1)
2018-04-25 15:50:40.073 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[SgId], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__userId_0
2018-04-25 15:50:49.424 +02:00 [INF] Executing RedirectResult, redirecting to ?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0NjY3ODQ4LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.lGuyP413ZQpiPsdNjp_09iw-7PCEzygWknHGH0nQP7G-HWvvXJVbrALnah02yzErtEubheY6LTTes9QiTdexMmkf_je9ihmSfvwwYzXsjL-kSqNYrQSdPhgeqG_FRr-Bxlj-q95Z7oBi4AvpJvFYd2cX5_TSOVE54z_q3tYl4u1yomGlQCczx_bj3F4fj_9VI76vfoLeXkyFgqXpKiZz7S3EhKeEv447q7xTWANWTTPPzGaxIKDbD-LZly_I3GWBoY0t6UFfS1u28wLOOrpHUbsib0XaX4QLrrWnQIzZ0E0_pU61gqWdX8oVuTyBN-fRdfrcIZwmTSJBWwWWvRQkxg&returnurl=http%3A%2F%2Flocalhost%3A4200.
2018-04-25 15:50:49.427 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 10917.8143ms
2018-04-25 15:50:49.435 +02:00 [INF] Request finished in 10924.293ms 302 
2018-04-25 15:50:49.454 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0NjY3ODQ4LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.lGuyP413ZQpiPsdNjp_09iw-7PCEzygWknHGH0nQP7G-HWvvXJVbrALnah02yzErtEubheY6LTTes9QiTdexMmkf_je9ihmSfvwwYzXsjL-kSqNYrQSdPhgeqG_FRr-Bxlj-q95Z7oBi4AvpJvFYd2cX5_TSOVE54z_q3tYl4u1yomGlQCczx_bj3F4fj_9VI76vfoLeXkyFgqXpKiZz7S3EhKeEv447q7xTWANWTTPPzGaxIKDbD-LZly_I3GWBoY0t6UFfS1u28wLOOrpHUbsib0XaX4QLrrWnQIzZ0E0_pU61gqWdX8oVuTyBN-fRdfrcIZwmTSJBWwWWvRQkxg&returnurl=http%3A%2F%2Flocalhost%3A4200  
2018-04-25 15:50:49.458 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:50:49.461 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 15:50:53.970 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 15:50:56.294 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [userLogin].[LoginProvider], [userLogin].[ProviderKey], [userLogin].[ProviderDisplayName], [userLogin].[UserId]
FROM [AspNetUserLogins] AS [userLogin]
WHERE ([userLogin].[LoginProvider] = @__loginProvider_0) AND ([userLogin].[ProviderKey] = @__providerKey_1)
2018-04-25 15:50:56.303 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[SgId], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__userId_0
2018-04-25 15:51:13.567 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/favicon.ico  
2018-04-25 15:51:13.914 +02:00 [INF] Request finished in 379.8195ms 404 
2018-04-25 15:52:23.108 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/users  
2018-04-25 15:52:24.209 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:52:24.250 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 15:52:24.270 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 15:52:24.687 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 15:52:24.799 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 1188.3626000000002ms
2018-04-25 15:52:24.822 +02:00 [INF] Request finished in 1752.9203ms 200 application/json; charset=utf-8
2018-04-25 15:52:24.870 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/favicon.ico  
2018-04-25 15:52:25.096 +02:00 [INF] Request finished in 229.3574ms 404 
2018-04-25 15:52:45.947 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login?returnUrl=http://localhost:4200  
2018-04-25 15:52:46.099 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:52:46.284 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 15:52:46.323 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 15:52:46.356 +02:00 [INF] Executing RedirectResult, redirecting to /login-callback?ReturnUrl=http%3A%2F%2Flocalhost%3A4200.
2018-04-25 15:52:46.361 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 341.3277ms
2018-04-25 15:52:46.392 +02:00 [INF] Request finished in 514.9749ms 302 
2018-04-25 15:52:46.477 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback?ReturnUrl=http%3A%2F%2Flocalhost%3A4200  
2018-04-25 15:52:46.503 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:52:46.515 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 15:52:54.938 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 15:52:56.753 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [userLogin].[LoginProvider], [userLogin].[ProviderKey], [userLogin].[ProviderDisplayName], [userLogin].[UserId]
FROM [AspNetUserLogins] AS [userLogin]
WHERE ([userLogin].[LoginProvider] = @__loginProvider_0) AND ([userLogin].[ProviderKey] = @__providerKey_1)
2018-04-25 15:52:56.800 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[SgId], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__userId_0
2018-04-25 15:53:00.744 +02:00 [INF] Executing RedirectResult, redirecting to http://localhost:4200?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0NjY3OTc4LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.K1EwYAiZt_toGFtpK7g42lpdrmXzCtGrPoMQr_4lL9kbGdj7DJ1TXFCbZzl-0Tg1W7cm53EOxUo02z-O8XjpwwaXwnCp3bYEQRGtFCyTEgd7jFy0Y5V41Fw5z8A4jcHKjWaiS9mlu1vPcoMXBFWHhcmKhxbikihRuW0RYBRwX1cGywXeY_tOY0zMWQ5YASzIQy5eZ1lFVSEsitgJ2JlgGfpFwsJ_zWXT-8ZufLCMOOICjNcRA99VwYlYz8rQ0KUmwPr-AxNLy1Yz9nfUJA3tQzplwW9mvxyrWHu0f3oniU3NH90ie887f85PGGB81ud_rwrrYtRjPCSWzVFXRzQr5g&returnurl=http%3A%2F%2Flocalhost%3A4200.
2018-04-25 15:53:00.747 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 14256.3268ms
2018-04-25 15:53:00.764 +02:00 [INF] Request finished in 14336.901ms 302 
2018-04-25 15:54:40.423 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login?returnUrl=http://localhost:4200  
2018-04-25 15:54:40.487 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:54:40.501 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 15:54:40.524 +02:00 [INF] Executing ChallengeResult with authentication schemes (["SaintGobain"]).
2018-04-25 15:54:40.548 +02:00 [INF] AuthenticationScheme: SaintGobain was challenged.
2018-04-25 15:54:40.550 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 107.8155ms
2018-04-25 15:54:40.553 +02:00 [INF] Request finished in 136.3857ms 302 
2018-04-25 15:54:44.917 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/signin-saintgobain?scope=mail%20sn%20stGoSGI%20givenName&iss=https%3A%2F%2Fcloudsso.saint-gobain.com%3A443%2Fopenam%2Foauth2&state=CfDJ8PFD-WCWoAtKrqox2VO51T1qZTIz9eonxZQy2p3zum_bhxjEzLB9SWJjCnzzgj68u5o6XTMcGkzFXln9vDh4sR3fK9bHTqZC6ROAirFG_dBRjwlsaGoIIc1aKgom--2krrOYt2EbxsVQ7kf79B6TrNHYigeXcGuYFwrXiT3vmwFXy4ALzXsaHryojhJYvBglETxbKNuT95CKwC3YOLeEipz_Sk7LV1H4h_tOSyDoUImMeZqsdOBJW9pu3ckhvWBZJVH8ldWUiUoagAjC9MgoqrsQEXvnpy0gDXjJ3sOwhOFafbQPuwQeAtX5z1TkhIYiSA&client_id=POC_Tracker_Local&code=00fd0389-1f56-4754-99ca-3e44c5f3e4a7  
2018-04-25 15:54:45.160 +02:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-04-25 15:54:45.167 +02:00 [INF] Request finished in 246.2813ms 302 
2018-04-25 15:54:45.176 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback?ReturnUrl=http%3A%2F%2Flocalhost%3A4200  
2018-04-25 15:54:45.181 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:54:45.183 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 15:54:45.188 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 15:54:45.198 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [userLogin].[LoginProvider], [userLogin].[ProviderKey], [userLogin].[ProviderDisplayName], [userLogin].[UserId]
FROM [AspNetUserLogins] AS [userLogin]
WHERE ([userLogin].[LoginProvider] = @__loginProvider_0) AND ([userLogin].[ProviderKey] = @__providerKey_1)
2018-04-25 15:54:45.207 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[SgId], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__userId_0
2018-04-25 15:54:45.217 +02:00 [INF] Executing RedirectResult, redirecting to http://localhost:4200?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0NjY4MDg1LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.snj45DvO-HRDJUegmlZCwO3_bQ9gt1psAIggZrWcKvxBc0beblzsDvyXJOb6NvRcfIcNr3foqXJd8ASdo3qJu24EjsyP4eKOJS45iS6ZL1W9aZsF99fcanTNrrvf0DzTODc-KNIkbImCgpCQ0dMrfM2fuFI-RtxQjWQottS-9dTmQ0wZYhD-1pG-bpP0fiJo4O2gwdiQM5BsYRd9myy1VJ9JtBxBZT8_seb5Tci-lriXK8hP8-ykmFWne7oASrtntbcNYH-WuqmnJoxwef2yDVG51Ses39eaHIoB2Oiml7x8faB9f2QQOjwc9mP-NdYnpLHSK7mVXGEL3ptvt8BU1A&returnurl=http%3A%2F%2Flocalhost%3A4200.
2018-04-25 15:54:45.220 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 40.470400000000005ms
2018-04-25 15:54:45.225 +02:00 [INF] Request finished in 48.1094ms 302 
2018-04-25 15:57:04.325 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login?returnUrl=http://localhost:4200  
2018-04-25 15:57:04.371 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:57:04.397 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 15:57:04.440 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 15:57:04.468 +02:00 [INF] Executing RedirectResult, redirecting to /login-callback?ReturnUrl=http%3A%2F%2Flocalhost%3A4200.
2018-04-25 15:57:04.490 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 142.47390000000001ms
2018-04-25 15:57:04.520 +02:00 [INF] Request finished in 382.2236ms 302 
2018-04-25 15:57:04.546 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback?ReturnUrl=http%3A%2F%2Flocalhost%3A4200  
2018-04-25 15:57:04.556 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:57:04.564 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 15:57:04.571 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 15:57:04.601 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [userLogin].[LoginProvider], [userLogin].[ProviderKey], [userLogin].[ProviderDisplayName], [userLogin].[UserId]
FROM [AspNetUserLogins] AS [userLogin]
WHERE ([userLogin].[LoginProvider] = @__loginProvider_0) AND ([userLogin].[ProviderKey] = @__providerKey_1)
2018-04-25 15:57:04.611 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[SgId], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__userId_0
2018-04-25 15:57:04.623 +02:00 [INF] Executing RedirectResult, redirecting to http://localhost:4200?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0NjY4MjI0LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.Nuh9vsOIGTUWx7dXPElKdXE2D3-xEG2zroKWYbn0pOieQAvze70JH4mZEWOuV3BvMXTJxVJsmyZiWX4S2IWoO5-MNVUb0R7ir2UCgl6bnSUMFyZKrU7df1S2optzTZm4kU1UdpcfvXN19blbQknDqUc4QIWMGMbbGxxebCXRReA_Zsk2fZT6yw6DuBQhDaeH4c_YZyCJgUMlyIHa3zRH88M5-ZxEDwyxd5CVu9fqQV_8l0sIitDN-apM6gliZGTUOSUXpKYAt757cIJIj_usLkpxFQ3L9-b7fujkQ33ERj9QvsUmk2ptGMX4rWR7el-RgJYeN8zitBe9l6Ei7vTo7g&returnurl=http%3A%2F%2Flocalhost%3A4200.
2018-04-25 15:57:04.629 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 76.3083ms
2018-04-25 15:57:04.885 +02:00 [INF] Request finished in 92.4006ms 302 
2018-04-25 15:57:47.826 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login?returnUrl=http://localhost:4200  
2018-04-25 15:57:47.908 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:57:47.930 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 15:57:47.939 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 15:57:47.943 +02:00 [INF] Executing RedirectResult, redirecting to /login-callback?ReturnUrl=http%3A%2F%2Flocalhost%3A4200.
2018-04-25 15:57:47.946 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 110.924ms
2018-04-25 15:57:47.973 +02:00 [INF] Request finished in 196.0028ms 302 
2018-04-25 15:57:48.079 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback?ReturnUrl=http%3A%2F%2Flocalhost%3A4200  
2018-04-25 15:57:48.107 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:57:48.130 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 15:57:48.293 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 15:57:48.606 +02:00 [INF] Executed DbCommand (302ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [userLogin].[LoginProvider], [userLogin].[ProviderKey], [userLogin].[ProviderDisplayName], [userLogin].[UserId]
FROM [AspNetUserLogins] AS [userLogin]
WHERE ([userLogin].[LoginProvider] = @__loginProvider_0) AND ([userLogin].[ProviderKey] = @__providerKey_1)
2018-04-25 15:57:48.626 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[SgId], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__userId_0
2018-04-25 15:57:48.645 +02:00 [INF] Executing RedirectResult, redirecting to http://localhost:4200?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0NjY4MjY4LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.bvnbzQ_iuAHaYebAr9jrBa1DpQbV2azZQah0qSnboaXK2obdSBZsHiwmteWPhXAwXOnJG6KH5lMkbuvOJWSir8dOzNp_R56EefWko5CSco4xauIW1OSyAmhaoX2wEOAqvQUh6gz-Bakjx1JAKsClG-fqzyjyTtAjywXyZGUrsmjam0sxCdBMIlHnIjeApl9pH4cZ0VhiMnOBac_bmF7Pv0VOSl3YFJfYDqnXr-JfpfqgirmgPAXe1rxY0kqI0HKUKXMup3BmSW_aKis_Xz02PthQ19C-b5m064BqTNhu2C708X3D2Ecbh94R7zCNRcEw8nPt_pKLGvOhglnkbGQkKQ&returnurl=http%3A%2F%2Flocalhost%3A4200.
2018-04-25 15:57:48.648 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 563.85480000000007ms
2018-04-25 15:57:48.670 +02:00 [INF] Request finished in 659.1929ms 302 
2018-04-25 15:58:12.049 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login?returnUrl=http://localhost:4200  
2018-04-25 15:58:12.053 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:58:12.056 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 15:58:12.062 +02:00 [INF] Identity.External was not authenticated. Failure message: Ticket expired
2018-04-25 15:58:12.066 +02:00 [INF] Executing ChallengeResult with authentication schemes (["SaintGobain"]).
2018-04-25 15:58:12.068 +02:00 [INF] AuthenticationScheme: SaintGobain was challenged.
2018-04-25 15:58:12.070 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 17.805500000000002ms
2018-04-25 15:58:12.074 +02:00 [INF] Request finished in 24.8143ms 302 
2018-04-25 15:58:14.181 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/signin-saintgobain?scope=mail%20sn%20stGoSGI%20givenName&iss=https%3A%2F%2Fcloudsso.saint-gobain.com%3A443%2Fopenam%2Foauth2&state=CfDJ8PFD-WCWoAtKrqox2VO51T33trucWekI06sAsu4wb6PinHsNKIIiPMwo9G18R0VQykXVzUFbp9MQa2kuOmogD3SM-BK_4tVa2UC6u_pl7ha9y1-IVt0DhiNIWqvPhFrLIZNe4y5gB5xlpLj7RXRqhO3VrMQEeMN4bC0AIJyXfQpxSLZ6pIKGPfgeRal47e5BI3q7YHgWGqJ24q7zNuHjtINc1RjebQoUJ9e-4XSjgxxg-39nVHqdEPxW-0V_r6BOZy1bcHU550oE-Yj2nT75CHkO1cnxS0x7J2FJ7knZzQjhAVqAAeU5m0ngSGtcQh-rIg&client_id=POC_Tracker_Local&code=9a0d5788-5c57-4a65-9a47-2b4e24117448  
2018-04-25 15:58:14.393 +02:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-04-25 15:58:14.396 +02:00 [INF] Request finished in 214.9435ms 302 
2018-04-25 15:58:14.407 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback?ReturnUrl=http%3A%2F%2Flocalhost%3A4200  
2018-04-25 15:58:14.411 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 15:58:14.414 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 15:58:14.417 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 15:58:14.426 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [userLogin].[LoginProvider], [userLogin].[ProviderKey], [userLogin].[ProviderDisplayName], [userLogin].[UserId]
FROM [AspNetUserLogins] AS [userLogin]
WHERE ([userLogin].[LoginProvider] = @__loginProvider_0) AND ([userLogin].[ProviderKey] = @__providerKey_1)
2018-04-25 15:58:14.435 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[SgId], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__userId_0
2018-04-25 15:58:14.443 +02:00 [INF] Executing RedirectResult, redirecting to http://localhost:4200?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0NjY4Mjk0LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.MMt-yg-x8oOiH8lPwsU8YM2LQsx27zYHucXOWb-AtKNp2aWQhcqvZ3ATa_K3O_8pyIArvyNFny10H-iO-1TJw_gk-P0NqHeZSnNdGtzNdRngVxmtrnu0IzaBaCnDEW_scyXrnyG9OFTbZ5giRHbjHFJBaqJmzIDUrNHTD9VccFsoKpnp91Atil0ZuLoKeFOj7k1ybMwOA_gHVuVl1y8kANP4NwztmE17MsokneWrWwnqwZR1FKBnbJPppOlTbYgDZb6hma9Tuqt8FDID1PV-fpMgk6ujYitdiJqklb26uKPE1D41aiLN-JxX08fBmKmZucLyj1E76vDMvhsyxb9d7A&returnurl=http%3A%2F%2Flocalhost%3A4200.
2018-04-25 15:58:14.446 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 35.213ms
2018-04-25 15:58:14.451 +02:00 [INF] Request finished in 41.5026ms 302 
2018-04-25 16:00:24.644 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 16:00:24.663 +02:00 [INF] Policy execution successful.
2018-04-25 16:00:24.667 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:00:24.670 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 16:00:24.677 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:00:24.689 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 16:00:24.703 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 44.5869ms
2018-04-25 16:00:24.713 +02:00 [INF] Request finished in 62.0253ms 200 application/json; charset=utf-8
2018-04-25 16:00:47.191 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 16:00:47.194 +02:00 [INF] Policy execution successful.
2018-04-25 16:00:47.206 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:00:47.209 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 16:00:47.212 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:00:47.224 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 16:00:47.229 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 33.2003ms
2018-04-25 16:00:47.237 +02:00 [INF] Request finished in 41.6762ms 200 application/json; charset=utf-8
2018-04-25 16:00:52.192 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:54259/api/Users/46  
2018-04-25 16:00:52.222 +02:00 [INF] Policy execution successful.
2018-04-25 16:00:52.235 +02:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Cors.CorsAuthorizationFilter'.
2018-04-25 16:00:52.244 +02:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-04-25 16:00:52.246 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.DeleteUser (JWTWebApiDemo) in 25.561700000000002ms
2018-04-25 16:00:52.258 +02:00 [INF] Request finished in 66.4515ms 200 
2018-04-25 16:00:52.267 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:54259/api/Users/46  
2018-04-25 16:00:52.272 +02:00 [INF] Policy execution successful.
2018-04-25 16:00:52.275 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:00:52.279 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.DeleteUser (JWTWebApiDemo) with arguments (["46"]) - ModelState is "Valid"
2018-04-25 16:00:52.338 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatedBy], [e].[CreatedDate], [e].[Email], [e].[IsActive], [e].[Name], [e].[UpdatedBy], [e].[UpdatedDate]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-04-25 16:00:52.456 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2018-04-25 16:00:52.470 +02:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-04-25 16:00:52.473 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.DeleteUser (JWTWebApiDemo) in 201.7058ms
2018-04-25 16:00:52.479 +02:00 [INF] Request finished in 212.2469ms 200 
2018-04-25 16:00:52.492 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 16:00:52.495 +02:00 [INF] Policy execution successful.
2018-04-25 16:00:52.499 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:00:52.504 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 16:00:52.506 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:00:52.524 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 16:00:52.551 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 32.0343ms
2018-04-25 16:00:52.567 +02:00 [INF] Request finished in 61.4271ms 200 application/json; charset=utf-8
2018-04-25 16:01:55.401 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 16:01:55.404 +02:00 [INF] Policy execution successful.
2018-04-25 16:01:55.407 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:01:55.410 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 16:01:55.414 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:01:55.422 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 16:01:55.426 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 21.2356ms
2018-04-25 16:01:55.431 +02:00 [INF] Request finished in 31.1716ms 200 application/json; charset=utf-8
2018-04-25 16:01:58.284 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 16:01:58.296 +02:00 [INF] Policy execution successful.
2018-04-25 16:01:58.299 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:01:58.303 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 16:01:58.306 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:01:58.335 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 16:01:58.356 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 49.170700000000004ms
2018-04-25 16:01:58.399 +02:00 [INF] Request finished in 79.6318ms 200 application/json; charset=utf-8
2018-04-25 16:02:00.911 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 16:02:00.919 +02:00 [INF] Policy execution successful.
2018-04-25 16:02:00.926 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:02:00.930 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 16:02:00.938 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:02:00.946 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 16:02:00.953 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 34.772400000000005ms
2018-04-25 16:02:00.968 +02:00 [INF] Request finished in 45.2573ms 200 application/json; charset=utf-8
2018-04-25 16:02:02.113 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/44  
2018-04-25 16:02:02.126 +02:00 [INF] Policy execution successful.
2018-04-25 16:02:02.137 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:02:02.145 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUser (JWTWebApiDemo) with arguments (["44"]) - ModelState is "Valid"
2018-04-25 16:02:02.161 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatedBy], [e].[CreatedDate], [e].[Email], [e].[IsActive], [e].[Name], [e].[UpdatedBy], [e].[UpdatedDate]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-04-25 16:02:02.167 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:02:02.176 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUser (JWTWebApiDemo) in 51.057100000000005ms
2018-04-25 16:02:02.185 +02:00 [INF] Request finished in 65.3459ms 200 application/json; charset=utf-8
2018-04-25 16:02:03.706 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:54259/api/Users/44  
2018-04-25 16:02:03.715 +02:00 [INF] Policy execution successful.
2018-04-25 16:02:03.717 +02:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Cors.CorsAuthorizationFilter'.
2018-04-25 16:02:03.720 +02:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-04-25 16:02:03.724 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.PutUser (JWTWebApiDemo) in 7.8194000000000008ms
2018-04-25 16:02:03.730 +02:00 [INF] Request finished in 20.1455ms 200 
2018-04-25 16:02:03.737 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:54259/api/Users/44 application/json 160
2018-04-25 16:02:03.741 +02:00 [INF] Policy execution successful.
2018-04-25 16:02:03.746 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:02:03.798 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.PutUser (JWTWebApiDemo) with arguments (["44","Domain.Models.User"]) - ModelState is "Valid"
2018-04-25 16:02:03.818 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p7='?', @p0='?' (Size = 4000), @p1='?', @p2='?' (Size = 4000), @p3='?', @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedBy] = @p0, [CreatedDate] = @p1, [Email] = @p2, [IsActive] = @p3, [Name] = @p4, [UpdatedBy] = @p5, [UpdatedDate] = @p6
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;
2018-04-25 16:02:03.828 +02:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2018-04-25 16:02:03.831 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.PutUser (JWTWebApiDemo) in 90.1315ms
2018-04-25 16:02:03.849 +02:00 [INF] Request finished in 99.3491ms 204 
2018-04-25 16:02:03.893 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 16:02:03.896 +02:00 [INF] Policy execution successful.
2018-04-25 16:02:03.901 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:02:03.907 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 16:02:03.910 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:02:03.919 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 16:02:03.927 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 27.5839ms
2018-04-25 16:02:03.933 +02:00 [INF] Request finished in 41.7992ms 200 application/json; charset=utf-8
2018-04-25 16:02:14.595 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 16:02:14.598 +02:00 [INF] Policy execution successful.
2018-04-25 16:02:14.605 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:02:14.610 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 16:02:14.613 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:02:14.621 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 16:02:14.629 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 26.1431ms
2018-04-25 16:02:14.635 +02:00 [INF] Request finished in 43.8206ms 200 application/json; charset=utf-8
2018-04-25 16:02:28.785 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 16:02:28.801 +02:00 [INF] Policy execution successful.
2018-04-25 16:02:28.807 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:02:28.813 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 16:02:28.817 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:02:28.829 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 16:02:28.834 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 39.3652ms
2018-04-25 16:02:28.839 +02:00 [INF] Request finished in 52.5865ms 200 application/json; charset=utf-8
2018-04-25 16:02:36.529 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:54259/api/Users/  
2018-04-25 16:02:36.533 +02:00 [INF] Policy execution successful.
2018-04-25 16:02:36.537 +02:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Cors.CorsAuthorizationFilter'.
2018-04-25 16:02:36.540 +02:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-04-25 16:02:36.543 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.PostUser (JWTWebApiDemo) in 9.4366ms
2018-04-25 16:02:36.550 +02:00 [INF] Request finished in 18.1148ms 200 
2018-04-25 16:02:36.558 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:54259/api/Users/ application/json 40
2018-04-25 16:02:36.562 +02:00 [INF] Policy execution successful.
2018-04-25 16:02:36.565 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:02:36.574 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.PostUser (JWTWebApiDemo) with arguments (["Domain.Models.User"]) - ModelState is "Valid"
2018-04-25 16:02:36.607 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?', @p2='?' (Size = 4000), @p3='?', @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedDate], [Email], [IsActive], [Name], [UpdatedBy], [UpdatedDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Users]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2018-04-25 16:02:36.623 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:02:36.627 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.PostUser (JWTWebApiDemo) in 64.2103ms
2018-04-25 16:02:36.635 +02:00 [INF] Request finished in 73.8763ms 201 application/json; charset=utf-8
2018-04-25 16:02:36.663 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 16:02:36.672 +02:00 [INF] Policy execution successful.
2018-04-25 16:02:36.676 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:02:36.690 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 16:02:36.706 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:02:36.714 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 16:02:36.729 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 50.684200000000004ms
2018-04-25 16:02:36.740 +02:00 [INF] Request finished in 68.7247ms 200 application/json; charset=utf-8
2018-04-25 16:07:02.302 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 16:07:02.309 +02:00 [INF] Policy execution successful.
2018-04-25 16:07:02.312 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:07:02.315 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 16:07:02.319 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:07:02.332 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 16:07:02.338 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 28.073700000000002ms
2018-04-25 16:07:02.342 +02:00 [INF] Request finished in 38.2124ms 200 application/json; charset=utf-8
2018-04-25 16:08:01.241 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 16:08:01.247 +02:00 [INF] Policy execution successful.
2018-04-25 16:08:01.252 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:08:01.255 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 16:08:01.266 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:08:01.275 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 16:08:01.280 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 32.1619ms
2018-04-25 16:08:01.292 +02:00 [INF] Request finished in 45.0768ms 200 application/json; charset=utf-8
2018-04-25 16:08:27.671 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 16:08:27.677 +02:00 [INF] Policy execution successful.
2018-04-25 16:08:27.685 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:08:27.688 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 16:08:27.691 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:08:27.700 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 16:08:27.716 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 28.628800000000002ms
2018-04-25 16:08:27.805 +02:00 [INF] Request finished in 64.4179ms 200 application/json; charset=utf-8
2018-04-25 16:11:56.423 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 16:11:56.427 +02:00 [INF] Policy execution successful.
2018-04-25 16:11:56.437 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:11:56.439 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 16:11:56.445 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:11:56.464 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 16:11:56.467 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 40.5549ms
2018-04-25 16:11:56.472 +02:00 [INF] Request finished in 46.8946ms 200 application/json; charset=utf-8
2018-04-25 16:36:12.775 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 16:36:13.102 +02:00 [INF] Policy execution successful.
2018-04-25 16:36:13.663 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:36:13.703 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 16:36:13.734 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:36:14.258 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 16:36:14.385 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 1282.6029ms
2018-04-25 16:36:14.390 +02:00 [INF] Request finished in 1655.0468ms 200 application/json; charset=utf-8
2018-04-25 16:46:15.896 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 16:46:15.898 +02:00 [INF] Policy execution successful.
2018-04-25 16:46:15.900 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:46:15.902 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 16:46:15.903 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:46:15.933 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 16:46:15.935 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 36.6079ms
2018-04-25 16:46:15.935 +02:00 [INF] Request finished in 39.4764ms 200 application/json; charset=utf-8
2018-04-25 16:47:27.915 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 16:47:27.916 +02:00 [INF] Policy execution successful.
2018-04-25 16:47:27.917 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:47:27.917 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 16:47:27.918 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 16:47:27.928 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 16:47:27.928 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 12.3667ms
2018-04-25 16:47:27.929 +02:00 [INF] Request finished in 13.7525ms 200 application/json; charset=utf-8
2018-04-25 16:50:09.888 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/users  
2018-04-25 16:50:10.227 +02:00 [INF] Authorization failed for user: null.
2018-04-25 16:50:10.239 +02:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-04-25 16:50:10.250 +02:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-04-25 16:50:10.271 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-04-25 16:50:10.279 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 67.6568ms
2018-04-25 16:50:10.296 +02:00 [INF] Request finished in 450.8688ms 302 
2018-04-25 16:50:10.350 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/Account/Login?ReturnUrl=%2Fapi%2Fusers  
2018-04-25 16:50:10.639 +02:00 [INF] Request finished in 309.9685ms 404 
2018-04-25 16:50:10.673 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/favicon.ico  
2018-04-25 16:50:10.690 +02:00 [INF] Request finished in 18.1296ms 404 
2018-04-25 16:50:59.329 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/users  
2018-04-25 16:50:59.334 +02:00 [INF] Authorization failed for user: null.
2018-04-25 16:50:59.337 +02:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-04-25 16:50:59.346 +02:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-04-25 16:50:59.349 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-04-25 16:50:59.353 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 19.1023ms
2018-04-25 16:50:59.365 +02:00 [INF] Request finished in 29.5478ms 302 
2018-04-25 16:50:59.372 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/Account/Login?ReturnUrl=%2Fapi%2Fusers  
2018-04-25 16:50:59.386 +02:00 [INF] Request finished in 14.4848ms 404 
2018-04-25 16:51:17.410 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 16:51:17.417 +02:00 [INF] Policy execution successful.
2018-04-25 16:51:17.423 +02:00 [INF] Authorization failed for user: null.
2018-04-25 16:51:17.427 +02:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-04-25 16:51:17.431 +02:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-04-25 16:51:17.435 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-04-25 16:51:17.443 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 24.596400000000003ms
2018-04-25 16:51:17.447 +02:00 [INF] Request finished in 37.8899ms 302 
2018-04-25 16:51:17.461 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/Account/Login?ReturnUrl=%2Fapi%2FUsers%2F  
2018-04-25 16:51:17.464 +02:00 [INF] Policy execution successful.
2018-04-25 16:51:17.525 +02:00 [INF] Request finished in 38.1586ms 404 
2018-04-25 17:20:32.144 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 17:20:32.168 +02:00 [INF] Policy execution successful.
2018-04-25 17:20:32.176 +02:00 [INF] Authorization failed for user: null.
2018-04-25 17:20:32.181 +02:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-04-25 17:20:32.188 +02:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-04-25 17:20:32.193 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-04-25 17:20:32.197 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 29.145300000000002ms
2018-04-25 17:20:32.257 +02:00 [INF] Request finished in 63.6224ms 302 
2018-04-25 17:20:32.448 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/Account/Login?ReturnUrl=%2Fapi%2FUsers%2F  
2018-04-25 17:20:32.621 +02:00 [INF] Policy execution successful.
2018-04-25 17:20:32.773 +02:00 [INF] Request finished in 370.297ms 404 
2018-04-25 17:21:12.136 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login?returnUrl=http://localhost:4200  
2018-04-25 17:21:12.758 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:21:12.827 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 17:21:12.841 +02:00 [INF] Identity.External was not authenticated. Failure message: Ticket expired
2018-04-25 17:21:12.856 +02:00 [INF] Executing ChallengeResult with authentication schemes (["SaintGobain"]).
2018-04-25 17:21:12.864 +02:00 [INF] AuthenticationScheme: SaintGobain was challenged.
2018-04-25 17:21:12.867 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 542.41280000000006ms
2018-04-25 17:21:12.871 +02:00 [INF] Request finished in 747.813ms 302 
2018-04-25 17:21:18.593 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/signin-saintgobain?scope=mail%20sn%20stGoSGI%20givenName&iss=https%3A%2F%2Fcloudsso.saint-gobain.com%3A443%2Fopenam%2Foauth2&state=CfDJ8PFD-WCWoAtKrqox2VO51T1K3jq6nX5W1hRvyRVYQbD5-elb23U2l33BfI5mSknFFhSOsHZmfoKudjGA5ZfWrj2G3tG6nhlYIllwLpemK_DcjL12VieL1RfNAb-39RquT-wOMk7h68REr75_9KuzZdTcQPo9fRMqjj9wEnGzxvKiuDCT-V8EoowObMNb5cQauisQup_arrlxuq92LxB11OJubnFRhnZPe3ygSn4PZXainhFZqiv3DGbrKdfgBxqLT8UidA5tiDVxwyGSSQo_UO5LeK8MS3fpCtTTtiiUTL_t_PtTAFYT-5348Maagz5p0w&client_id=POC_Tracker_Local&code=018db553-3930-4e6d-b473-aba9c1748e90  
2018-04-25 17:21:18.869 +02:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-04-25 17:21:18.872 +02:00 [INF] Request finished in 280.1307ms 302 
2018-04-25 17:21:18.884 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback?ReturnUrl=http%3A%2F%2Flocalhost%3A4200  
2018-04-25 17:21:18.900 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:21:18.905 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 17:21:18.912 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 17:21:19.356 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [userLogin].[LoginProvider], [userLogin].[ProviderKey], [userLogin].[ProviderDisplayName], [userLogin].[UserId]
FROM [AspNetUserLogins] AS [userLogin]
WHERE ([userLogin].[LoginProvider] = @__loginProvider_0) AND ([userLogin].[ProviderKey] = @__providerKey_1)
2018-04-25 17:21:19.420 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[SgId], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__userId_0
2018-04-25 17:21:19.527 +02:00 [INF] Executing RedirectResult, redirecting to http://localhost:4200?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0NjczMjc5LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.H6euNEN0xfpXg_BSq3M_Shz1-PxbpoLKx0xfnOizgugBklWfnuyYRL1pNNTLj2RguAvbQYkpA5q1FfI_OQCrPtAjMxpPxK6gS9YV3nd6eVKRYJq3CGLR0_OCMQNv6KRHl4_FHhgK0bIDvgRHI4QqPkbTprwnA8QQP9sFYCCMCM_LlJWIG_Y4mTiy9iA3BA2YWMhYJbd-zXwNrIkhC0MWjoWB5UDKGRQN0XCLcNABbbcx-TbQutYz0I68mMWPooDKjj-Jko1jm9dCHtm5Cwe5Dp-nMB4jVvRzwrljLGtmJvPBNJW2y9_Gi335oIIoeXv-RXjNj-U-TmwvatqUlcNv3g&returnurl=http%3A%2F%2Flocalhost%3A4200.
2018-04-25 17:21:19.531 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 636.73340000000007ms
2018-04-25 17:21:19.535 +02:00 [INF] Request finished in 649.5121ms 302 
2018-04-25 17:21:23.504 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/GetUserClaims  
2018-04-25 17:21:23.523 +02:00 [INF] Policy execution successful.
2018-04-25 17:21:23.630 +02:00 [INF] Request finished in 176.487ms 404 
2018-04-25 17:21:36.213 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 17:21:36.221 +02:00 [INF] Policy execution successful.
2018-04-25 17:21:36.226 +02:00 [INF] Authorization failed for user: null.
2018-04-25 17:21:36.233 +02:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-04-25 17:21:36.237 +02:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-04-25 17:21:36.240 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-04-25 17:21:36.243 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 26.8233ms
2018-04-25 17:21:36.248 +02:00 [INF] Request finished in 33.668ms 302 
2018-04-25 17:21:36.276 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/Account/Login?ReturnUrl=%2Fapi%2FUsers%2F  
2018-04-25 17:21:36.280 +02:00 [INF] Policy execution successful.
2018-04-25 17:21:36.318 +02:00 [INF] Request finished in 22.0052ms 404 
2018-04-25 17:22:43.333 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/users  
2018-04-25 17:22:44.080 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:22:44.127 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 17:22:44.155 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 17:22:44.649 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 17:22:44.777 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 1050.1192ms
2018-04-25 17:22:44.813 +02:00 [INF] Request finished in 1579.4347ms 200 application/json; charset=utf-8
2018-04-25 17:22:44.854 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/favicon.ico  
2018-04-25 17:22:45.050 +02:00 [INF] Request finished in 195.9634ms 404 
2018-04-25 17:22:56.103 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 17:22:56.115 +02:00 [INF] Policy execution successful.
2018-04-25 17:22:56.126 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:22:56.137 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 17:22:56.142 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 17:22:56.155 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 17:22:56.159 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 50.686600000000006ms
2018-04-25 17:22:56.168 +02:00 [INF] Request finished in 59.2556ms 200 application/json; charset=utf-8
2018-04-25 17:23:14.305 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 17:23:14.319 +02:00 [INF] Policy execution successful.
2018-04-25 17:23:14.331 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:23:14.337 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 17:23:14.344 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 17:23:14.352 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 17:23:14.356 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 39.8468ms
2018-04-25 17:23:14.362 +02:00 [INF] Request finished in 58.6948ms 200 application/json; charset=utf-8
2018-04-25 17:23:23.091 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:54259/api/Users/47  
2018-04-25 17:23:23.146 +02:00 [INF] Policy execution successful.
2018-04-25 17:23:23.167 +02:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Cors.CorsAuthorizationFilter'.
2018-04-25 17:23:23.177 +02:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-04-25 17:23:23.179 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.DeleteUser (JWTWebApiDemo) in 33.910900000000005ms
2018-04-25 17:23:23.194 +02:00 [INF] Request finished in 93.8992ms 200 
2018-04-25 17:23:23.206 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:54259/api/Users/47  
2018-04-25 17:23:23.209 +02:00 [INF] Policy execution successful.
2018-04-25 17:23:23.213 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:23:23.268 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.DeleteUser (JWTWebApiDemo) with arguments (["47"]) - ModelState is "Valid"
2018-04-25 17:23:23.396 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@__get_Item_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatedBy], [e].[CreatedDate], [e].[Email], [e].[IsActive], [e].[Name], [e].[UpdatedBy], [e].[UpdatedDate]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-04-25 17:23:23.490 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Users]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2018-04-25 17:23:23.506 +02:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2018-04-25 17:23:23.509 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.DeleteUser (JWTWebApiDemo) in 299.4828ms
2018-04-25 17:23:23.532 +02:00 [INF] Request finished in 305.7696ms 200 
2018-04-25 17:23:23.543 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 17:23:23.577 +02:00 [INF] Policy execution successful.
2018-04-25 17:23:23.592 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:23:23.595 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 17:23:23.607 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 17:23:23.620 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 17:23:23.624 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 76.648800000000008ms
2018-04-25 17:23:23.651 +02:00 [INF] Request finished in 89.6186ms 200 application/json; charset=utf-8
2018-04-25 17:23:41.254 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/44  
2018-04-25 17:23:41.288 +02:00 [INF] Policy execution successful.
2018-04-25 17:23:41.296 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:23:41.304 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUser (JWTWebApiDemo) with arguments (["44"]) - ModelState is "Valid"
2018-04-25 17:23:41.316 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatedBy], [e].[CreatedDate], [e].[Email], [e].[IsActive], [e].[Name], [e].[UpdatedBy], [e].[UpdatedDate]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-04-25 17:23:41.319 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 17:23:41.322 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUser (JWTWebApiDemo) in 51.687200000000004ms
2018-04-25 17:23:41.331 +02:00 [INF] Request finished in 88.138ms 200 application/json; charset=utf-8
2018-04-25 17:23:42.992 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 17:23:43.000 +02:00 [INF] Policy execution successful.
2018-04-25 17:23:43.004 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:23:43.007 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 17:23:43.013 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 17:23:43.021 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 17:23:43.040 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 27.316000000000003ms
2018-04-25 17:23:43.062 +02:00 [INF] Request finished in 53.8928ms 200 application/json; charset=utf-8
2018-04-25 17:28:47.720 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/44  
2018-04-25 17:28:47.729 +02:00 [INF] Policy execution successful.
2018-04-25 17:28:47.737 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:28:47.747 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUser (JWTWebApiDemo) with arguments (["44"]) - ModelState is "Valid"
2018-04-25 17:28:47.772 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatedBy], [e].[CreatedDate], [e].[Email], [e].[IsActive], [e].[Name], [e].[UpdatedBy], [e].[UpdatedDate]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-04-25 17:28:47.776 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 17:28:47.784 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUser (JWTWebApiDemo) in 52.445800000000006ms
2018-04-25 17:28:47.798 +02:00 [INF] Request finished in 66.8376ms 200 application/json; charset=utf-8
2018-04-25 17:28:49.216 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 17:28:49.228 +02:00 [INF] Policy execution successful.
2018-04-25 17:28:49.233 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:28:49.237 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 17:28:49.246 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 17:28:49.259 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 17:28:49.274 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 43.9469ms
2018-04-25 17:28:49.314 +02:00 [INF] Request finished in 60.7227ms 200 application/json; charset=utf-8
2018-04-25 17:29:13.139 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 17:29:13.150 +02:00 [INF] Policy execution successful.
2018-04-25 17:29:13.154 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:29:13.157 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 17:29:13.165 +02:00 [INF] Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.
2018-04-25 17:29:13.176 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[Email], [u].[IsActive], [u].[Name], [u].[UpdatedBy], [u].[UpdatedDate]
FROM [Users] AS [u]
2018-04-25 17:29:13.207 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 51.520700000000005ms
2018-04-25 17:29:13.232 +02:00 [INF] Request finished in 72.36ms 200 application/json; charset=utf-8
2018-04-25 17:29:54.951 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/users  
2018-04-25 17:29:55.281 +02:00 [INF] Authorization failed for user: null.
2018-04-25 17:29:55.296 +02:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-04-25 17:29:55.308 +02:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-04-25 17:29:55.332 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-04-25 17:29:55.341 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 72.0544ms
2018-04-25 17:29:55.362 +02:00 [INF] Request finished in 481.0706ms 302 
2018-04-25 17:29:55.403 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/Account/Login?ReturnUrl=%2Fapi%2Fusers  
2018-04-25 17:29:55.637 +02:00 [INF] Request finished in 220.4397ms 404 
2018-04-25 17:29:55.659 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/favicon.ico  
2018-04-25 17:29:55.697 +02:00 [INF] Request finished in 30.6604ms 404 
2018-04-25 17:30:29.655 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 17:30:29.664 +02:00 [INF] Policy execution successful.
2018-04-25 17:30:29.675 +02:00 [INF] Authorization failed for user: null.
2018-04-25 17:30:29.680 +02:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-04-25 17:30:29.684 +02:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-04-25 17:30:29.690 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-04-25 17:30:29.694 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 33.4534ms
2018-04-25 17:30:29.716 +02:00 [INF] Request finished in 46.1028ms 302 
2018-04-25 17:30:29.728 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/Account/Login?ReturnUrl=%2Fapi%2FUsers%2F  
2018-04-25 17:30:29.732 +02:00 [INF] Policy execution successful.
2018-04-25 17:30:29.779 +02:00 [INF] Request finished in 27.403ms 404 
2018-04-25 17:31:24.889 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/GetUserClaims  
2018-04-25 17:31:24.892 +02:00 [INF] Policy execution successful.
2018-04-25 17:31:24.902 +02:00 [INF] Request finished in 12.6096ms 404 
2018-04-25 17:32:37.580 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/users  
2018-04-25 17:32:37.908 +02:00 [INF] Authorization failed for user: null.
2018-04-25 17:32:37.922 +02:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-04-25 17:32:37.932 +02:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-04-25 17:32:37.950 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-04-25 17:32:37.957 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 59.199000000000005ms
2018-04-25 17:32:37.977 +02:00 [INF] Request finished in 450.3482ms 302 
2018-04-25 17:32:38.007 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/Account/Login?ReturnUrl=%2Fapi%2Fusers  
2018-04-25 17:32:38.246 +02:00 [INF] Request finished in 241.0924ms 404 
2018-04-25 17:32:38.275 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/favicon.ico  
2018-04-25 17:32:38.298 +02:00 [INF] Request finished in 21.8826ms 404 
2018-04-25 17:33:16.085 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/GetUserClaims  
2018-04-25 17:33:16.128 +02:00 [INF] Policy execution successful.
2018-04-25 17:33:17.207 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:33:17.278 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.GetUserClaims (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 17:33:27.211 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.GetUserClaims (JWTWebApiDemo) in 11118.1609ms
2018-04-25 17:33:27.486 +02:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidCastException: Unable to cast object of type 'System.Collections.Generic.List`1[System.Security.Claims.ClaimsIdentity]' to type 'System.Security.Claims.ClaimsIdentity'.
   at JWTWebApiDemo.Controllers.AuthenticationController.GetUserClaims() in C:\Users\h7707132\source\repos\JWTWebApiDemo\JWTWebApiDemo\Controllers\AuthenticationController.cs:line 114
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-25 17:33:27.914 +02:00 [INF] Request finished in 11842.397ms 500 text/html; charset=utf-8
2018-04-25 17:33:38.839 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 17:33:38.842 +02:00 [INF] Policy execution successful.
2018-04-25 17:33:38.848 +02:00 [INF] Authorization failed for user: null.
2018-04-25 17:33:38.850 +02:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-04-25 17:33:38.854 +02:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-04-25 17:33:38.857 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-04-25 17:33:38.859 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 17.1228ms
2018-04-25 17:33:38.865 +02:00 [INF] Request finished in 22.7133ms 302 
2018-04-25 17:33:38.919 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/Account/Login?ReturnUrl=%2Fapi%2FUsers%2F  
2018-04-25 17:33:38.930 +02:00 [INF] Policy execution successful.
2018-04-25 17:33:38.953 +02:00 [INF] Request finished in 29.0436ms 404 
2018-04-25 17:33:45.706 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/GetUserClaims  
2018-04-25 17:33:45.710 +02:00 [INF] Policy execution successful.
2018-04-25 17:33:45.722 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:33:45.725 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.GetUserClaims (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 17:34:16.682 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.GetUserClaims (JWTWebApiDemo) in 30959.8269ms
2018-04-25 17:34:16.912 +02:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidCastException: Unable to cast object of type 'System.Collections.Generic.List`1[System.Security.Claims.ClaimsIdentity]' to type 'System.Security.Claims.ClaimsIdentity'.
   at JWTWebApiDemo.Controllers.AuthenticationController.GetUserClaims() in C:\Users\h7707132\source\repos\JWTWebApiDemo\JWTWebApiDemo\Controllers\AuthenticationController.cs:line 114
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-25 17:34:17.157 +02:00 [INF] Request finished in 31451.3832ms 500 text/html; charset=utf-8
2018-04-25 17:34:25.755 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login?returnUrl=http://localhost:4200  
2018-04-25 17:34:25.820 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:34:25.866 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 17:34:25.878 +02:00 [INF] Identity.External was not authenticated. Failure message: Ticket expired
2018-04-25 17:34:25.892 +02:00 [INF] Executing ChallengeResult with authentication schemes (["SaintGobain"]).
2018-04-25 17:34:25.899 +02:00 [INF] AuthenticationScheme: SaintGobain was challenged.
2018-04-25 17:34:25.902 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 83.6174ms
2018-04-25 17:34:25.908 +02:00 [INF] Request finished in 151.349ms 302 
2018-04-25 17:34:29.506 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/signin-saintgobain?scope=mail%20sn%20stGoSGI%20givenName&iss=https%3A%2F%2Fcloudsso.saint-gobain.com%3A443%2Fopenam%2Foauth2&state=CfDJ8PFD-WCWoAtKrqox2VO51T2kvobpTTzl8cvsDMoOZyDtP8KydPk3oiz_Og9A5HM7190C-BMEWFnsLnN-9qFpZrfPC_04bQWu3iz_mh8fG6NRblx3R2VDVfGMoYRYa_dn30ueln-B5pqYrOJQznvSlaZk4WQY09cM9mv90lYqh5jl8MxmjqIyT_QkqkLmz7i7WJJzPuVW5UuHxDeD1eWwKv4TSHEX8tvsRbGpWGDlKpNdsHWftoGLsv7apv67mmwGzNjxrKM3Iyrz5UNhgorCKFdOQz9jn0egXbz0uZ-2mRhEDDyy8XiUGbsAXvoQwEDKTw&client_id=POC_Tracker_Local&code=1bcc5c96-7a4d-482a-b654-3b6f91e52910  
2018-04-25 17:34:29.748 +02:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-04-25 17:34:29.752 +02:00 [INF] Request finished in 247.647ms 302 
2018-04-25 17:34:29.770 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback?ReturnUrl=http%3A%2F%2Flocalhost%3A4200  
2018-04-25 17:34:29.809 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:34:29.813 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 17:34:29.824 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 17:34:30.420 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [userLogin].[LoginProvider], [userLogin].[ProviderKey], [userLogin].[ProviderDisplayName], [userLogin].[UserId]
FROM [AspNetUserLogins] AS [userLogin]
WHERE ([userLogin].[LoginProvider] = @__loginProvider_0) AND ([userLogin].[ProviderKey] = @__providerKey_1)
2018-04-25 17:34:30.486 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[SgId], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__userId_0
2018-04-25 17:34:30.598 +02:00 [INF] Executing RedirectResult, redirecting to http://localhost:4200?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0Njc0MDcwLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.majbIUu_7uRm_v41lm-cVqg_V3GYY_u1OnIicagj78MAhngAyn-kS9CaOzhO5EYsZxtSO6xj4HSlRTBiWmZ8CL5f97QVah1nmWlyKZk9-ABtkZu4aIkmHAy-31SF32mC9ioy_fIj4rE9Xjrm7FOOOvkYB5lD8eIUUj2RyOu-V2hWHgb5qjYnHPg7-TbcVGfBuNuqdo_gI_NsqL0GdRd6_rFm0eRk1uDFDtNJR0r87PPRUrbDHAn_BfSWqURUFVkTgZYSHK3kvIyDQjVUjMQA5jbNBq4n_kuIF0H35AE6UwaqnHx1JO45XevZ6g9ojJ60PtTbcFboHUTCAotemMXJpw&returnurl=http%3A%2F%2Flocalhost%3A4200.
2018-04-25 17:34:30.601 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 806.80320000000006ms
2018-04-25 17:34:30.604 +02:00 [INF] Request finished in 836.8466ms 302 
2018-04-25 17:34:33.933 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/GetUserClaims  
2018-04-25 17:34:33.937 +02:00 [INF] Policy execution successful.
2018-04-25 17:34:33.940 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:34:33.944 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.GetUserClaims (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 17:35:16.502 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.GetUserClaims (JWTWebApiDemo) in 42565.285800000005ms
2018-04-25 17:35:16.659 +02:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidCastException: Unable to cast object of type 'System.Collections.Generic.List`1[System.Security.Claims.ClaimsIdentity]' to type 'System.Security.Claims.ClaimsIdentity'.
   at JWTWebApiDemo.Controllers.AuthenticationController.GetUserClaims() in C:\Users\h7707132\source\repos\JWTWebApiDemo\JWTWebApiDemo\Controllers\AuthenticationController.cs:line 114
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-25 17:35:17.024 +02:00 [INF] Request finished in 43096.7222ms 500 text/html; charset=utf-8
2018-04-25 17:35:48.385 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/GetUserClaims  
2018-04-25 17:35:48.389 +02:00 [INF] Policy execution successful.
2018-04-25 17:35:48.392 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:35:48.408 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.GetUserClaims (JWTWebApiDemo) with arguments (null) - ModelState is "Valid"
2018-04-25 17:35:52.947 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.GetUserClaims (JWTWebApiDemo) in 4540.542ms
2018-04-25 17:35:53.102 +02:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidCastException: Unable to cast object of type 'System.Collections.Generic.List`1[System.Security.Claims.ClaimsIdentity]' to type 'System.Security.Claims.ClaimsIdentity'.
   at JWTWebApiDemo.Controllers.AuthenticationController.GetUserClaims() in C:\Users\h7707132\source\repos\JWTWebApiDemo\JWTWebApiDemo\Controllers\AuthenticationController.cs:line 114
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-25 17:35:53.424 +02:00 [INF] Request finished in 5042.5393ms 500 text/html; charset=utf-8
2018-04-25 17:36:27.576 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/Users/  
2018-04-25 17:36:27.580 +02:00 [INF] Policy execution successful.
2018-04-25 17:36:27.586 +02:00 [INF] Authorization failed for user: null.
2018-04-25 17:36:27.591 +02:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-04-25 17:36:27.594 +02:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-04-25 17:36:27.596 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-04-25 17:36:27.601 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 19.1909ms
2018-04-25 17:36:27.608 +02:00 [INF] Request finished in 30.7609ms 302 
2018-04-25 17:36:27.659 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/Account/Login?ReturnUrl=%2Fapi%2FUsers%2F  
2018-04-25 17:36:27.668 +02:00 [INF] Policy execution successful.
2018-04-25 17:36:27.714 +02:00 [INF] Request finished in 23.0182ms 404 
2018-04-25 17:43:44.041 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/api/users  
2018-04-25 17:43:44.728 +02:00 [INF] Authorization failed for user: null.
2018-04-25 17:43:44.744 +02:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-04-25 17:43:44.762 +02:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-04-25 17:43:44.882 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-04-25 17:43:44.972 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.UsersController.GetUsers (JWTWebApiDemo) in 177.9274ms
2018-04-25 17:43:45.139 +02:00 [INF] Request finished in 1137.5841ms 302 
2018-04-25 17:43:45.225 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/Account/Login?ReturnUrl=%2Fapi%2Fusers  
2018-04-25 17:43:46.231 +02:00 [INF] Request finished in 1000.2473ms 404 
2018-04-25 17:43:46.484 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/favicon.ico  
2018-04-25 17:43:46.597 +02:00 [INF] Request finished in 144.8883ms 404 
2018-04-25 17:46:11.177 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login?returnUrl=http://localhost:4200  
2018-04-25 17:46:11.689 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:46:11.748 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 17:46:11.762 +02:00 [INF] Identity.External was not authenticated. Failure message: Ticket expired
2018-04-25 17:46:11.775 +02:00 [INF] Executing ChallengeResult with authentication schemes (["SaintGobain"]).
2018-04-25 17:46:11.784 +02:00 [INF] AuthenticationScheme: SaintGobain was challenged.
2018-04-25 17:46:11.787 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 538.6405ms
2018-04-25 17:46:11.807 +02:00 [INF] Request finished in 615.6098ms 302 
2018-04-25 17:46:14.328 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/signin-saintgobain?scope=mail%20sn%20stGoSGI%20givenName&iss=https%3A%2F%2Fcloudsso.saint-gobain.com%3A443%2Fopenam%2Foauth2&state=CfDJ8PFD-WCWoAtKrqox2VO51T1BhryTPNWGPimhu_k_7Dcrn_H-zf63K8U4J2fPh813cSk-edNV8-gAU8XhH2BWKelgrScC7NSp95hp6uxvX-XY55vpb4VqECv6fS7fe0nMAg7eYmXxR23d8iJqE4xtCK812nWckpIIwuu_FND5gRkF0w_MzxbpftpAoTGcJlKh4UOBK-cjmp2zF1I7zuId8QWpLEDA2ZgElk4FWg6zTdFXOCcK-okb2bk8v8yoBnYVqyjvzWqR0beYzimWW4oqH3ZeARDT02jpg0qiF4u8JfDcLSx6e07q7GtLHluU9PiBnQ&client_id=POC_Tracker_Local&code=efa71b1e-5f97-4074-bf21-0f3e8f7799fa  
2018-04-25 17:46:14.610 +02:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-04-25 17:46:14.615 +02:00 [INF] Request finished in 289.7507ms 302 
2018-04-25 17:46:14.626 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback?ReturnUrl=http%3A%2F%2Flocalhost%3A4200  
2018-04-25 17:46:14.638 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:46:14.642 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 17:46:14.647 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 17:46:15.053 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [userLogin].[LoginProvider], [userLogin].[ProviderKey], [userLogin].[ProviderDisplayName], [userLogin].[UserId]
FROM [AspNetUserLogins] AS [userLogin]
WHERE ([userLogin].[LoginProvider] = @__loginProvider_0) AND ([userLogin].[ProviderKey] = @__providerKey_1)
2018-04-25 17:46:15.119 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[SgId], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__userId_0
2018-04-25 17:46:15.232 +02:00 [INF] Executing RedirectResult, redirecting to http://localhost:4200?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0Njc0Nzc1LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.EmwXvk4veNWvkQp9OJZTPJFzJtAR86OFR2w9TWYZmSjQO1JcugauCS9S0KMIYpvMXdgSqlLFuijsorN3ZetY3__yoH9ldIuYeNJmkheyHXj7yoRghA-9u2SGpDDNbbO8Ib17NDQgLTypvFNVk3OvGCuaU5aWVxZPVr9jsgWANWzIqP8q8dgmKZcjRyvvUzLO-4tDL0gwQCwHd6lvj1t5iwFrj3-lOsUUZeDOJxZWV0WGy0jpsCg5xhLWb5YT_e6KhxNljzMst2E4HxdTN0DintZhxF5uAbUfOsZgOxKRo811mCz6w99-U8QDQf6Ibbnlt0wMj7qbv-d_01K61WDIKA&returnurl=http%3A%2F%2Flocalhost%3A4200.
2018-04-25 17:46:15.235 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 599.4596ms
2018-04-25 17:46:15.240 +02:00 [INF] Request finished in 612.6912ms 302 
2018-04-25 18:07:54.725 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login?returnUrl=http://localhost:4200  
2018-04-25 18:07:54.755 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 18:07:54.768 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 18:07:54.774 +02:00 [INF] Identity.External was not authenticated. Failure message: Ticket expired
2018-04-25 18:07:54.779 +02:00 [INF] Executing ChallengeResult with authentication schemes (["SaintGobain"]).
2018-04-25 18:07:54.785 +02:00 [INF] AuthenticationScheme: SaintGobain was challenged.
2018-04-25 18:07:54.788 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.Login (JWTWebApiDemo) in 46.5024ms
2018-04-25 18:07:54.791 +02:00 [INF] Request finished in 94.536ms 302 
2018-04-25 18:07:57.011 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/signin-saintgobain?scope=mail%20sn%20stGoSGI%20givenName&iss=https%3A%2F%2Fcloudsso.saint-gobain.com%3A443%2Fopenam%2Foauth2&state=CfDJ8PFD-WCWoAtKrqox2VO51T3FCZ1toaUg8VmFvch-wzhL_ctt8EJi3pm63YdCeu-oxh4suIehZ4C3yq-1SZ_VsMx8t1dQaGGIhHKsNqoLZZptNaCJiRVbwkq8TrBVm3krMjUVmLR_n9KyyZLT70ArmAqxwuLnYUJHMc8oDzFWSpgrhbIIytC_A2PBv0ok9jZl2FB446NUC3aQIkcdq62J1YBqg5KuzTh3t_uTsC1A9oLkmkWRivkFzsgw8SppQpeq7Qg0uwUG5jZDg_VS2TnvOOfMETJIgGZCImTQCRafvjCuHS_ei086y69p-xyjhjUxCw&client_id=POC_Tracker_Local&code=13a50c58-6502-4433-8475-b4773a838dd9  
2018-04-25 18:07:57.209 +02:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-04-25 18:07:57.212 +02:00 [INF] Request finished in 202.395ms 302 
2018-04-25 18:07:57.226 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:54259/login-callback?ReturnUrl=http%3A%2F%2Flocalhost%3A4200  
2018-04-25 18:07:57.231 +02:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'TCMContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 18:07:57.235 +02:00 [INF] Executing action method JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) with arguments (["http://localhost:4200"]) - ModelState is "Valid"
2018-04-25 18:07:57.238 +02:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-04-25 18:07:57.302 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [userLogin].[LoginProvider], [userLogin].[ProviderKey], [userLogin].[ProviderDisplayName], [userLogin].[UserId]
FROM [AspNetUserLogins] AS [userLogin]
WHERE ([userLogin].[LoginProvider] = @__loginProvider_0) AND ([userLogin].[ProviderKey] = @__providerKey_1)
2018-04-25 18:07:57.314 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[SgId], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__userId_0
2018-04-25 18:07:57.325 +02:00 [INF] Executing RedirectResult, redirecting to http://localhost:4200?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJIaWxlbC5IYWRqYWxpQGV4dC5zYWludC1nb2JhaW4uY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IkhBREpBTEksSGFkamFsaSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiSDc3MDcxMzIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9naXZlbm5hbWUiOiJIaWxlbCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6Ijg2Mzk5IiwiZXhwIjoxNTI0Njc2MDc3LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU0MjU5IiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo1NDI1OSJ9.UQrmN9xU6jxu6pcnMV-FzjkBbZ8HMdM2L8krkloM2_-c8euuRzQCIOq9GjrLurnRqLy7lT8-DMfLFWPstlYBNg64PeE3MK-qixCcTG4uuU4QTlCO8raM_XhlO9Nu1tIJ_XASlznaMmiMkM5tjVYaaWIvQLHUmxsUczZtVjlh3eFMqxNspiSokKKy4I76m5pNOaZWfrLP4ElyQ5Ow0QvxCIB6NIICec3xuq_hHddMUTeuBJzkfVCQqMNHA4WURSki2bTcgVliMZFDNRkjyyVtDIuM1qW3tQ0v2q56c4njpVWNrtOdI4-cFWtijR5A-O-SSoiYNzvAxUykrBZk2bcHvg&returnurl=http%3A%2F%2Flocalhost%3A4200.
2018-04-25 18:07:57.328 +02:00 [INF] Executed action JWTWebApiDemo.Controllers.AuthenticationController.LoginCallback (JWTWebApiDemo) in 98.3431ms
2018-04-25 18:07:57.332 +02:00 [INF] Request finished in 105.8643ms 302 
